In this paper all rings are assumed to be commutative and all commutators are left-normed i.\,e. $[a, b] = a b a^{-1} b^{-1}$.

Throughout this paper we denote by $\lambda_a$ the homomorphism of principal localization at $a \in A$.
Also for a prime ideal $M \trianglelefteq A$ we denote by $\lambda_M \colon A \to A_M$ the homomorphism inverting the multiplicative subset $A \setminus M$.

For an $A$-algebra $B$ and $b\in B$ we denote by $\mathrm{ev}_{X=b} \colon A[X]\rightarrow B$ the morphism of $A$-algebras evaluating each polynomial
$p(X)\in A[X]$ at $b$, i.e. $\mathrm{ev}_{X=b}(p(X)) = p(b)$.

\subsection{Steinberg groups, $\K_2$-groups and symbols}\label{subsec:steinberg-preliminaries}
Let $\Phi$ be a finite root system of rank $\ell > 1$.
We assume that $\Phi$ is embedded into $\mathbb{R}^\ell$ whose scalar product we denote by $(\text{-}, \text{-})$.
We also fix some system of simple roots $\Pi = \{\alpha_1, \ldots, \alpha_\ell\} \subset \Phi$.
For a root $\alpha\in\Phi$ we denote by $m_i(\alpha)$ the $i$-th coefficient in the expansion of $\alpha$ in $\Pi$,
i.\,e. $\alpha = \sum_{i=1}^n m_i(\alpha) \alpha_i$.
We denote by $\Phi^+$ (resp. $\Phi^-$) the system of positive (respectively, negative) roots with respect to the basis $\Pi$.

We denote by $\Phi^\vee$ the corresponding dual root system, which, by definition, consists of all coroots $\alpha^\vee = \frac{2}{(\alpha, \alpha)} \alpha$, where $\alpha \in \Phi$.
We denote by $P(\Phi)$ the \textit{weight lattice}, i.\,e. the integral lattice spanned by the \emph{fundamental weights $\varpi_i$}.
Recall that the fundamental weights $\varpi_i$ are uniquely determined by the property $(\varpi_i, \alpha_j^\vee) = \delta_{ij}$.
For $v \in \mathbb{R}^\ell$ define the product $\langle v, \beta \rangle \coloneqq (v, \beta^\vee).$
Clearly, for $\alpha,\beta \in \Phi$ the product $\langle \alpha, \beta\rangle$ is always an integer.
We also denote by $W(\Phi)$ the Weyl group of $\Phi$, i.\,e. the isometry group of $\mathbb{R}^\ell$ generated by fundamental reflections $s_\alpha$,
where $s_\alpha(v) = v - \langle v, \alpha\rangle \alpha$.

By definition, a weight $\omega \in P(\Phi)$ is called a \textit{microweight} if $\langle \omega, \alpha \rangle \in \{ 0, 1 \}$ for all $\alpha \in \Phi^+$.

Now let $R$ be an arbitrary commutative ring with $1$ and suppose that $\Phi$ is a root system whose irreducible components have rank $\geq 2$.
Recall that to the pair $(\Phi, R)$ can associate an abstract group $\St(\Phi, R)$, called the \textit{Steinberg group} of type $\Phi$ over $R$.
By definition, $\St(\Phi, R)$ is the group presented by generators $x_\alpha(a)$, $a \in R$, $\alpha \in \Phi$ and an explicit list of relations (see e.\,g in.~\cite{Ma69, St71}).
In this paper we restrict ourselves to the case when the root system $\Phi$ in question is \textit{simply-laced} (i.\,e. has type $\mathsf{ADE}$),
 in which case the defining relations of $\St(\Phi, R)$ reduce to the following shorter list, cf. e.\,g.~\cite[\S~2.2]{S15}:
\begin{align}
x_{\alpha}(a)\cdot x_{\alpha}(b)&=x_{\alpha}(a+b), \tag{R1} \label{x-additivity}\\
[x_{\alpha}(a),\,x_{\beta}(b)]  &=x_{\alpha+\beta}(N_{\alpha,\beta} \cdot ab),\text{ for }\alpha+\beta\in\Phi, \tag{R2} \label{R2} \\
[x_{\alpha}(a),\,x_{\beta}(b)]  &=1,\text{ for }\alpha+\beta\not\in\Phi\cup0. \tag{R3} \label{R3}
\end{align}
The coefficients $N_{\alpha,\beta}$ in the above formula are integers equal to $\pm 1$, they coincide with the structure constants of the complex Lie algebra of type $\Phi$.

The construction of $\St(\Phi, R)$ is obviously functorial in $R$.
For a ring homomorphism $ f\colon A \to B$ we denote by $f^*$ the corresponding homomorphism of Steinberg groups $\St(\Phi, A) \to \St(\Phi, B)$.

Throughout this paper we denote by $\Gsc(\Phi, R)$ the group of points of the simply-connected Chevalley--Demazure group of type $\Phi$ over $R$.
We denote by $\Esc(\Phi, R)$ the \textit{elementary subgroup} of $\Gsc(\Phi, R)$, i.\,e. the subgroup generated by elementary root unipotents of $\Gsc(\Phi, R)$.
Notice that in~\cite{Vav09, VP} the notation $x_\alpha(a)$ is used to denote the elementary root unipotents.
To prevent confusion we will use different notation $t_\alpha(a)$ for them and reserve the notation $x_\alpha(a)$ solely for generators of Steinberg groups.

Recall that the map sending $x_\alpha(a)$ to $t_\alpha(a)$ gives rise to a well-defined homomorphism $\pi \colon \St(\Phi, R) \to \G_\mathrm{sc}(\Phi, R)$, cf.~\cite[\S~1A]{St78}.
The cokernel and the kernel of $\pi$ are called \textit{the unstable $\K_1$- and $\K_2$-functors modeled on the root system $\Phi$}:
\begin{equation} \label{eq:K1-K2-sequence}
  \xymatrix{ 1 \ar[r] & \K_2(\Phi, R) \ar[r] & \St(\Phi, R) \ar[r]^{\pi} & \Gsc(\Phi, R) \ar[r] & \K_1(\Phi, R) \ar[r] & 1}
\end{equation}

In the special case $\Phi =\rA_\ell$ the Steinberg $\St(\rA_\ell, R)$ coincides with the linear Steinberg group $\St(\ell + 1, R)$, while
  $\Gsc(\rA_\ell, R) = \mathrm{SL}(\ell + 1, R)$, $\Esc(\rA_\ell, R) = \E(\ell + 1, R)$.

For a \textit{special} subset of $\Phi$ (i.\,e. a subset $S \subseteq \Phi$ such that $S \cap -S = \varnothing$)
we denote by $\UU(S, R)$ the subgroup of $\St(\Phi, R)$ generated by $x_\alpha(a)$, where $a \in R$, $\alpha \in S$.
Notice that the restriction of $\pi$ to $\UU(S, R)$ is a monomorphism, so $\UU(S, R)$ is isomorphic to a unipotent subgroup of $\Gsc(\Phi, R)$, cf.~\cite[\S~1A]{St78}.

Denote by $\Sigma^+_i$ (resp. $\Sigma^-_i$) the subset of $\Phi$ consisting of $\alpha \in \Phi$ such that $m_i(\alpha) > 0$ (resp. $m_i(\alpha) < 0$).
Denote by $\Delta_i$ the set of roots $\alpha \in \Phi$ such that $m_i(\alpha) = 0$.
It is clear that $\Phi = \Sigma_i^- \sqcup \Delta_i \sqcup \Sigma_i^+$ and that $\Sigma_i^+$, $\Sigma_i^-$ are special subsets of $\Phi$.

For $1 \leq k \leq \ell$ denote by $P_k^\pm$ the subgroup of $\St(\Phi, A)$ generated by $x_\alpha(a)$ for all $\alpha \in \Delta \sqcup \Sigma^\pm_k$ and $a \in A$.
Notice that by~\eqref{R2}--\eqref{R3} the subgroup $P_k^\pm$ admits an analogue of \textit{Levi decomposition}:
\begin{equation} \label{eq:levi-decomp} P_k^\pm = L_k \ltimes U_k^\pm, \end{equation}
where $L_k = \mathrm{Im}(\St(\Delta_k, A) \to \St(\Phi, A))$ and $U_k^\pm = \UU(\Sigma_k^\pm, A).$

Following~\cite{Ma69} for $\alpha\in\Phi$ and $u \in R^\times$ we define the following elements of $\St(\Phi, R)$:
\begin{align} w_\alpha(u) & =  x_\alpha(u) \cdot x_{-\alpha}(-u^{-1}) \cdot x_\alpha(u), \label{eq:w-definition} \\
               h_\alpha(u) & =  w_\alpha(u) \cdot w_\alpha(-1).  \label{eq:h-definition} \end{align}
The subgroup generated by $w_\alpha(u)$ (resp. $h_\alpha(u)$) for all $\alpha\in \Phi$, $u \in R^\times$ is denoted by $\StW(\Phi, R)$ (resp. $\StH(\Phi, R)$).
By~\cite[Lemme~5.2]{Ma69} $\StH(\Phi, R)$ is a normal subgroup of $\StW(\Phi, R)$.

Denote by $W(\Phi, R)$ the image of $\StW(\Phi, R)$ in the Chevalley group $\Gsc(\Phi, R)$.
It is clear that $W(\Phi, R)$ is contained in the group-theoretic normalizer $N(\Phi, R)$ of the split maximal torus $H(\Phi, R) \leq \Gsc(\Phi, R)$.

In the sequel we will need the following explicit elements of the group $\K_2(\Phi, R)$.
Recall that for arbitrary $u, v \in R^\times$ one defines the \textit{Steinberg symbol} via the formula
\begin{equation} \label{eq:steinberg} \{ u, v \}_\alpha = h_\alpha(uv) \cdot h_\alpha^{-1}(u) \cdot h_\alpha^{-1}(v). \end{equation}
Recall also from~\cite[Lemme~5.4]{Ma69} that
\begin{equation} \label{eq:steinberg-2} [h_\alpha(u), h_\beta(v)] = \{u, v^{\langle \alpha, \beta \rangle}\}_\alpha. \end{equation}
Steinberg symbols depend only on the length of the root $\alpha$, cf.~\cite[pp.~26--28]{Ma69}.
In particular, in the case when $\Phi$ is of simply-laced type, they do not depend on the choice of $\alpha$, which allows us to omit it from notation.

Steinberg symbols are central elements of $\St(\Phi, R)$.
Our assumptions on $\Phi$ guarantee that Steinberg symbols are antisymmetric and bimultiplicative, i.\,e. they satisfy the following identities, cf.~\cite[Lemme~2.4]{Ma69}:
\begin{equation} \label{eq:symbol-properties} \{ u, st \} = \{ u, s\} \{ u, t \}, \ \{ u, v \} = \{ v, u\}^{-1}. \end{equation}

Now let $A$ be a local ring with maximal ideal $M$ and residue field $\kappa = A/M$.
For $w \in \StW(\Phi, A)$ we denote by $\overline{w}$ the image of $w$ in $W(\Phi)$ under the following composite homomorphism:
\[ \StW(\Phi, A) \to W(\Phi, A) \to W(\Phi, \kappa) \to N(\Phi, \kappa) \to N(\Phi, \kappa) / H(\Phi, \kappa) \cong W(\Phi). \]

\subsection{Relative Steinberg groups} \label{subsec:another-presentation}
In this paper we use the concept of a \textit{relative Steinberg group} introduced by F.~Keune and J.-L.~Loday in~\cite{Ke78, Lo78}.
We will only briefly mention the definition and basic properties of these groups and refer the reader to~\cite[\S~2.3]{LS20} for a more detailed exposition.

Let $R$ be a commutative ring, $I \trianglelefteq R$ be an ideal and let $p$ denote the canonical projection $R \to R/I$.
Denote by $D_{R, I}$ the pullback of two copies of $p$ i.\,e. the ring $R \times_{R/I} R$.
Elements of $D_{R, I}$ are pairs $(a; b)$ such that $a-b \in I$.
We also denote by $p_1$, $p_2$ the canonical projections $D_{R, I} \to R$ and by $p_1^*$, $p_2^*$ the corresponding homomorphisms of Steinberg groups induced by them.
Recall from~\cite[Definition~2.5]{LS20} that \textit{the relative Steinberg group} $\St(\Phi, R, I)$ is defined as the quotient
$\Ker(p_1^*) / C$, where $C = [\Ker(p_1^*), \Ker(p_2^*)]$.
Denote by $\mu$ the homomorphism $\St(\Phi, R, I) \to \St(\Phi, R)$ induced by $p_2^*$.
Also denote by $C(\Phi, R, I)$ the kernel of $\mu$.
It is clear that $C(\Phi, R, I) = \Ker(p_1^*) \cap \Ker(p_2^*) / C$.
Thus, we obtain an exact sequence
\begin{equation}
    \xymatrix{C(\Phi, R, I) \ar@{^{(}->}[r] & \St(\Phi, R, I) \ar[r]^\mu & \St(\Phi, R) \ar@{->>}[r]^-{p^*} & \St(\Phi, R/I). }\label{eq:relative-Steinberg}
\end{equation}
Alternatively, the group $\St(\Phi, R, I)$ can be defined via generators and relations as an $\St(\Phi, R)$-group, cf.~\cite[Proposition~6]{S15}
or even as an abstract group, see~\cite{V22}.

\begin{dfn}\label{dfn:crossed-module}
    Let $N$ be a group acting on itself by right conjugation.
    Let $M$ be a group with a right action of $N$.
    Recall that a group homomorphism $\mu\colon M \to N$ is called a \textit{precrossed module} if $\mu$ preserves the action of $N$, i.\,e.
    \[\mu(m^n) = \mu(m)^n, \text{for all $m \in M$, $n\in N;$} \]
    If, in addition, $\mu$ satisfies the so-called \textit{Peiffer identity}, i.\,e.
    \begin{equation}\label{eq:peiffer} {m}^{\mu(m')} = {m'}^{-1} m m', \text{for all $m, m' \in M$,}\end{equation}
    then $\mu$ is called a \textit{crossed module}.
\end{dfn}

It is clear from definitions that $\St(\Phi, R)$ acts on $\St(\Phi, R, I)$ by right conjugation.
We claim that, in fact, the following stronger assertion holds.
\begin{lemma} \label{lem:rel-Steinberg-crossed-module}
For any irreducible root system $\Phi$ of rank $\geq 3$ the homomorphism $\mu \colon \St(\Phi, R, I) \to \St(\Phi, R)$ is a crossed module.
\end{lemma}
\begin{proof}
    Denote by $\Delta$ the diagonal homomorphism $R \to D_{R, I}.$
    By~\cite[Proposition~6]{Lo78} it suffices to show that $[\Ker(p_1^*) \cap \Ker(p_2^*), \Delta^*(\St(\Phi, R))] = 1$.
    But the latter is clear since $\Ker(p_1^*) \cap \Ker(p_2^*)$ is contained in the subgroup $\K_2(\Phi, D_{R, I})$,
     which is a central subgroup of $\St(\Phi, D_{R, I})$ by~\cite{LSV1}.
\end{proof}

Recall that an ideal $I \trianglelefteq R$ is called \textit{a splitting ideal} if the canonical projection $R \twoheadrightarrow R/I$ splits.
If $I \trianglelefteq R$ is a splitting ideal then $C(\Phi, R, I)$ is trivial and $\St(\Phi, R)$ decomposes into the semidirect product
 $\St(\Phi, R, I) \rtimes \St(\Phi, R/I)$, see~\cite[\S~1]{LS17}.

We define the relative group $\K_2(\Phi, R, I)$ as the kernel of the homomorphism $\pi \mu \colon \St(\Phi,R, I) \to \Gsc(\Phi, R)$.
For a special subset of roots $S \subseteq \Phi$ we denote by $\UU(S, I)$ the subgroup of $\St(\Phi, R, I)$ generated by $x_\alpha((0;m))C$, $m \in I$, $\alpha \in S$.
It is clear that $\UU(S, I) \cap \K_2(\Phi, R, I) = 1$.
Notice also that $C(\Phi, R, I) \subseteq \K_2(\Phi, R, I)$.

We will need a relative analogue of Steinberg symbol.
Let $A$ be a local unital ring with maximal ideal $M$ embedded as a subring into a larger unital ring $R$ (e.g. $R = A[X]$ or $R = A[X, X\inv]$).
Since $A$ is local the subset $1+M \subseteq A$ forms a group under multiplication.
We denote this group by $(1+M)^\times$.
Clearly, it is isomorphic to the abelian group $(M, \circ)$ with the operation given by $m \circ m' = m + m' + mm'$.
Now for $a \in R^\times$ and $m \in M$ we denote by $\{a, 1+m\}_r$ the coset $\{(a; a), (1; 1+m)\}C \in \St(\Phi, R, MR)$.
It is clear that the map $1+m \mapsto \{a, 1+m\}_r$ specifies a group homomorphism
\begin{equation} \label{eq:relative-symbol} \{ a, -\}_r \colon (1+M)^\times \to \K_2(\Phi, R, MR). \end{equation}
It is also clear that $\mu(\{a, 1+m\}_r) = \{a, 1+m\}$.

\begin{lemma}\label{lem:symbols}
Assume that $A$ is a local domain with maximal ideal $M$.
Denote by $R$ the Laurent polynomial ring $A[X, X\inv]$.
Then the intersection of the image of the relative symbol map $\{X, -\}_r$ with $C(\Phi, R, M[X, X\inv])$ is trivial.
\end{lemma}
\begin{proof}
    Set $F = \mathrm{Frac}(A)$.
    Consider the following diagram:
    \[\begin{tikzcd}
    (1+M)^\times \ar[hookrightarrow, rr] \arrow{d}[swap]{\{X {,}\, -\}_r} \ar[rd, dashed, "\{X{,}\, -\}"] &  & F^\times \ar[hookrightarrow, d, "\{X{,}\, -\}"] \\
    \K_2(\Phi ,R, M[X^{\pm 1}]) \ar[r] & \K_2(\Phi, R) \ar[r] & \K_2(\Phi, F[X^{\pm 1}]).
    \end{tikzcd}\]
    Since the right vertical arrow is injective by~\cite[Lemma~2.2]{LS20}, so is the dashed arrow.
    The assertion of the lemma is now clear.
\end{proof}

In the sequel we will need the following Steinberg-level analogue of Bruhat decomposition.
Denote by $\overline{\St}(\Phi, R, I)$ the kernel of $p^*$ (or what is the same, the image of $\mu$).
\begin{lemma}\label{lem:bruhat}
Let $A$ be a local ring with maximal ideal $M$ and residue field $\kappa$.
Let $\Phi$ be any irreducible root system and $\Pi$ and $P$ be a pair of systems of simple roots in $\Phi$.
Denote by $\Phi^+_\Pi, \Phi^+_{P} \leq \Phi$ the systems of positive roots of $\Phi$ corresponding to $\Pi$ and $P$, respectively.
Then the Steinberg group $\St(\Phi, A)$ admits the following decomposition:
\begin{equation}\label{eq:bruhat}
\St(\Phi,A) =\UU(\Phi^+_{P}, A)\cdot \StW(\Phi, A) \cdot \UU(\Phi^+_{\Pi}, A) \cdot \overline{\St}(\Phi, A, M).
\end{equation}
\begin{comment}
Moreover, if for some $u,u'\in \UU(\Phi^{+}_{P}, A)$, $v, v' \in \UU(\Phi^+_{\Pi}, A)$, $w,w'\in \StW(\Phi, A)$ and $l,l'\in \overline{\St}(\Phi, A, M)$ one has
 \begin{equation} \label{eq:bwb-eq} uwvl=u'w'v'l', \end{equation} then
$\overline{w}=\overline{w'} \in W(\Phi)$ and $w^{-1}w' \in \StH(\Phi, A) \cap \overline{\St}(\Phi, A, M)$.
\end{comment}
\end{lemma}
\begin{proof}
    Notice that $\E(\Phi, \kappa) = \Gsc(\Phi, \kappa)$ is a group with a BN-pair by~\cite[\S~4]{Ge17}.
    Since $\K_2(\Phi, \kappa)$ is generated by Steinberg symbols, it is a subgroup of $\StW(\Phi, \kappa)$.
    This allows us to lift the BNB-decomposition from $\Gsc(\Phi, \kappa)$ first to $\St(\Phi, \kappa)$ and then to $\St(\Phi, A)$,
    which proves the assertion of the lemma in the special case $\Pi = P$.
    To obtain the general case choose $w \in \StW(\Phi, A)$ such that ${}^w \UU(\Phi^+_\Pi, A) = \UU(\Phi^+_{P}, A)$ and then multiply both sides of~\eqref{eq:bruhat} by $w$ on the left.
    \begin{comment}
    Let us verify the second assertion.
    Projecting the equality~\eqref{eq:bwb-eq} to $\Gsc(\Phi, \kappa)$ and using the fact that double B-cosets are disjoint we obtain that
     $\overline{w} = \overline{w'}$.
    Since $\K_2(\Phi, \kappa)$ is generated by Steinberg symbols, the image of $w^{-1}w'$ in $\St(\Phi, \kappa)$ belongs to $\StH(\Phi, \kappa)$,
     hence
     \begin{multline*} w^{-1}w' \in \left(\StH(\Phi, A) \cdot \overline{\St}(\Phi, A, M)\right) \cdot \StW(\Phi, A) \subseteq \\ \subseteq
      \left( \UU(\Phi^+, M) \cdot \StH(\Phi, A) \cdot \UU(\Phi^-, M)\right) \cap \StW(\Phi, A) \subseteq \StH(\Phi, A). \end{multline*}
    Here the first inclusion follows from~\cite[Theorem~2.4]{Ste73} and the second inclusion is clear from consideration of matrices.

     \[w^{-1} w' \in \bigl(\StH(\Phi, A) \cdot \overline{\St}(\Phi, A, M)\bigr)\cap \StW(\Phi, A) \subseteq \StH(\Phi, A).\]
    Here we use the fact that $\K_2(\Phi, A)$ is generated by Steinberg symbols, see e.\,g.~\cite[Theorem~2.5]{Ste73}.
    \end{comment}
\end{proof}

In the sequel we will also need the following generating set for the group $\St(\Phi, R, I)$.
\begin{lemma}\label{lem:relative-generators}
    For irreducible $\Phi$ of rank $\ell \geq 2$ the group $\St(\Phi, R, I)$ is generated as an abstract group by elements $z_\alpha(m, a) = x_\alpha(m)^{x_{-\alpha}(a)}$, $m \in I$, $a \in R$.

    In fact, a stronger assertion holds.
    Denote by $\Sigma$ the unipotent radical $\Sigma^+_i$ or $\Sigma^-_i$ corresponding to any $1 \leq i \leq \ell$.
    Then the group $\St(\Phi, R, I)$ is generated as an abstract group by the following smaller set of generators consisting of the following two families of elements:
    \begin{itemize}
        \item $x_{\alpha}(m) = x_\alpha((0; m))C$, where $\alpha \in \Phi$, $m \in I$;
        \item $z_{\beta}(m, a) = x_\beta((0; m))^{x_{-\beta}((a; a))}C$, where $\beta \in \Sigma$, $a \in A$, $m \in I$.
    \end{itemize}
\end{lemma}
\begin{proof}
    It suffices to prove only the second assertion.
    Notice that by~\cite[Lemma~4]{S15} the group $\Ker(p_1^*)$ is generated by $x_{\beta}((0; m))^{x_{-\beta}((a; a))}$ for $\alpha \in \Sigma$ and $x_{\alpha}((0; m))$ for $\alpha \in \Phi$.
    Consequently, the same is true for $\St(\Phi, R, I)$ i.\,e. $\St(\Phi, R, I) = \Ker(p_1^*)/C$.
\end{proof}

\subsection{Weight automorphisms}\label{subsec:weight-automorphisms}
Recall that for every weight $\omega \in P(\Phi)$ and $\beta \in \ZZ \Phi$ the product $\langle \omega, \beta\rangle$ is an integer.
Thus, a choice of $u \in R^\times$ and $\omega \in P(\Phi)$ specifies an automorphism of the generating set for $\St(\Phi, R)$ (i.\,e. an autobijection) via the following mapping:
\begin{equation}\label{eq:chi-def} x_\alpha(a) \mapsto x_\alpha(u^{\langle\omega, \alpha\rangle} \cdot a),\ \alpha\in \Phi,\ a \in R. \end{equation}
It is not hard to check that this automorphism is compatible with relations~\eqref{x-additivity}--\eqref{R3} and therefore specifies a well-defined automorphism of $\St(\Phi, R)$, which we denote by $\chi_{\omega, u}$.

In the following lemma we check that an analogue of $\chi_{\omega, u}$ can also be defined for relative Steinberg groups.
\begin{lemma} \label{lem:relative-chi}
Let $R$ be a commutative ring, $I$ be its ideal and let $u \in R^\times$.
For every weight $\omega \in P(\Phi)$ there exists a well-defined automorphism $\widetilde{\chi}_{\omega, u}$ of the relative Steinberg group $\St(\Phi, R, I)$ making the following diagram commute:
\[\begin{tikzcd} \St(\Phi, R, I) \ar[r, "\widetilde{\chi}_{\omega, u}"] \ar[d] & \St(\Phi, R, I) \ar[d] \\
\St(\Phi, R) \ar[r, "\chi_{\omega, u}"] & \St(\Phi, R). \end{tikzcd}\]
\end{lemma}
\begin{proof}
    Observe that the automorphism $\chi_{\omega, (u; u)}$ of $\St(\Phi, D_{R, I})$ preserves subgroups
    $\Ker(p_i^*)$, $i=1, 2$ and hence their commutator subgroup $C$.
    The required automorphism $\widetilde{\chi}_{\omega, u}$ now can be obtained by restricting $\chi_{\omega, (u; u)}$ to $\Ker(p_1^*)$.
    The commutativity of the diagram is obvious.
\end{proof}

In the sequel we will use the following formulae describing the action of $\chi_{\omega, u}$ on the elements $w_\alpha(u)$, $h_\alpha(u)$:
\begin{align}
    \label{eq:chi-w} \chi_{\omega, u}\left(w_\alpha(v)\right) &= w_\alpha(u^{\langle \omega, \alpha \rangle} \cdot v), \\
    \label{eq:chi-h} \chi_{\omega, u} (h_\alpha(v)) &= h_\alpha(u^{\langle \omega, \alpha \rangle} \cdot v) \cdot h_\alpha(u^{\langle \omega, \alpha\rangle})^{-1} = \{u^{\langle \omega, \alpha\rangle}, v\} \cdot h_\alpha(v).
\end{align}

The following lemma is analogous to~\cite[Lemma~3.1(c)]{Tu83}.
\begin{lemma} \label{lem:winv-chiw}
For any $w \in \StW(\Phi, A[X^{\pm 1}])$ the element $w^{-1} \cdot \chi_{\omega, X}(w)$ belongs to $\StH(\Phi, A[X^{\pm 1}])$.
\end{lemma}
\begin{proof}
    Since $\StH(\Phi, A[X^{\pm 1}])$ is a normal subgroup of $\StW(\Phi, A[X^{\pm 1}])$, it suffices to verify the assertion for $w = w_\alpha(u)$.
    Set $h = w^{-1} \cdot \chi_{\omega, X}(w)$.
    Notice that
    \begin{multline*} w_\alpha(1) \cdot h\cdot  w_\alpha(-1) = w_\alpha(-1)^{-1} \cdot w_\alpha(u)^{-1} \cdot w_{\alpha}(X^{\langle \omega, \alpha \rangle} u) \cdot w_\alpha(-1) = \\
    = h_\alpha(u)^{-1} \cdot h_\alpha(X^{ \langle \omega, \alpha \rangle }u) = \{ X^{\langle \omega, \alpha \rangle}, u \} \cdot h_\alpha(X^{\langle \omega, \alpha \rangle}) \in \StH(\Phi, A[X^{\pm 1}]).\end{multline*}
    Thus, we get from\cite[Lemme~5.2]{Ma69} and~\eqref{eq:steinberg},\eqref{eq:symbol-properties} that
     \begin{multline} \label{eq:w-computation} h = \{ X^{\langle \omega, \alpha \rangle}, u \}{}^{w_\alpha(-1)}h_\alpha(X^{\langle \omega, \alpha \rangle}) = \\
      = \{ X^{\langle \omega, \alpha \rangle}, u \} \{ -1, X^{\langle \omega, \alpha \rangle} \} h_{-\alpha}(X^{\langle \omega, \alpha \rangle}) = \\
      = \{ X^{\langle \omega, \alpha \rangle}, -u \} \cdot h_\alpha^{-1}(X^{\langle \omega, \alpha \rangle}).\qedhere\end{multline}
\end{proof}

\begin{example} \label{exm:chi-linear}
Set $R = A[X^{\pm 1}]$.
Consider the following weights of the root system of $\rA_\ell$ (cf.~\cite[\S~VI.4.7]{Bou}):
\[ \varpi_{i} = \varepsilon_1 + \ldots + \varepsilon_i - \frac{i}{\ell+1}(\varepsilon_1 + \ldots + \varepsilon_n), \ 1 \leq i \leq \ell. \]
For $1\leq k\leq \ell+1$ and $u \in R^\times$ denote by $d_k(u)$ the matrix from $\GL(\ell+1, R)$ which differs from the unit matrix only in that it has the element $u$ on the $k$-th position of its diagonal.
Recall from~\cite[Corollary~4]{Ka77} that for any $g \in \GL(\ell+1, R)$ there exists an automorphism $\beta_g$ of $\St(\ell+1, R)$ ''modeling`` the automorphism $(-)^g \colon \GL(\ell+1, R) \to \GL(\ell+1, R)$ of right conjugation by $g$, i.\,e. such that $\pi \beta_g = (-)^g \pi$.


It is clear that in the linear case the automorphism $\chi_{-\varpi_1, u}$ (resp. $\chi_{\varpi_{\ell}, u}$) coincides with $\beta_{d_1(u)}$ (resp. $\beta_{d_{\ell+1}(u)}$).
For other Chevalley groups the maps $\chi_{\omega, u}$ model automorphisms of inner conjugation by weight elements $h_\omega(u)$ in the sense of~\cite[\S~4]{Vav09}.
\end{example}


Let $\omega \in P(\Phi)$ be a weight of $\Phi$.
Consider the subset $\mathcal{X}_\omega$ of the generating set of $\St(\Phi, A[X])$ consisting of those generators $x_{\alpha}(a) \in \St(\Phi, A[X])$ for which
$\langle \omega, \alpha\rangle < 0$ implies that $a \in A[X]$ is divisible by $X^{-\langle \omega, \alpha\rangle}$.
\begin{rem}
    Notice that according to this condition if $\langle \omega, \alpha\rangle \geq 0$ then $\mathcal{X}_\omega$ contains $x_\alpha(a)$ for all $a \in A[X]$.
\end{rem}
Denote by $N_{\omega, \Phi}$ the subgroup of $\St(\Phi, A[X])$ generated by $\mathcal{X}_\omega$.
When $\Phi$ is clear from context we shorten the notation for this subgroup to just $N_\omega$.

\begin{dfn} \label{dfn:delta-pair}
Let $\omega \in P(\Phi)$ be a weight.
By definition, an {\it $\omega$-pair} is a pair of mutually inverse group homomorphisms
$\xymatrix{ \sigma(\omega)\colon N_\omega \ar[r] & \ar@<-1.0ex>[l] N_{-\omega}\colon \sigma(-\omega) }$ satisfying the following identity:
\begin{equation} \label{eq:sigmadef}
\sigma(\pm \omega)(x_\alpha(f)) = x_\alpha(X^{\pm\langle\omega, \alpha\rangle}\cdot f),
\text{ for all } x_\alpha(f) \in \mathcal{X}_{\pm\omega}.
\end{equation}\end{dfn}
It is clear that the maps $\sigma(\omega)$, $\sigma(-\omega)$ are uniquely determined by~\eqref{eq:sigmadef}, so at most one $\omega$-pair may exist for any given $\omega$.
Moreover, $\sigma(\omega), \sigma(-\omega)$ always make the following diagram commute:
\begin{equation} \label{eq:sigma-diagram}
\xymatrix{ N_\omega \ar[r]_{\sigma(\omega)}\ar@{^{(}->}[d] \ar@/^1.5pc/[rr]^{\mathrm{id}} & N_{-\omega} \ar@{^{(}->}[d] \ar[r]_{\sigma(-\omega)} & N_\omega \ar@{^{(}->}[d] \\
\St(\Phi, A[X]) \ar[d] & \St(\Phi, A[X]) \ar[d] & \St(\Phi, A[X]) \ar[d] \\
\St(\Phi, A[X^{\pm 1}]) \ar@<-0.0ex>[r]_{\chi_{\omega, X}} \ar@/_1.5pc/[rr]^{\mathrm{id}} & \St(\Phi, A[X^{\pm 1}]) \ar@<-0.0ex>[r]_{\chi_{-\omega, X}} & \St(\Phi, A[X^{\pm 1}]).} \end{equation}
The question of existence of an $\omega$-pair is rather complicated since $N_\omega$ itself is \textit{not} presented by generators and relations
 (it is merely a subgroup of such group) and $\sigma(\pm \omega)$ can \textit{not} be extended to all of $\St(\Phi, A[X])$.
In the case when $\omega$ is a \textit{microweight} in order to show the existence of $\sigma(\omega)$ in~\cref{subsec:construction-sigma} one can use
 the explicit presentation of the \textit{relative} Steinberg group $\St(\Phi, A[X], XA[X])$
  (which in this case forms an essential part of the group $N_\omega$).
We will recall such explicit presentation in the next subsection.

Now we describe a construction which allows one to construct many $\omega$-pairs once one such pair is constructed.
Suppose that we already know that an $\omega$-pair exists.
We claim that $w \cdot \omega$-pair also exists for any $w \in W(\Phi).$
Indeed, for $g \in N_\omega$, $w \in \StW(\Phi, A)$ we define $\sigma(\overline{w} \cdot \omega)$ via the following identity:
\begin{equation} \label{eq:sigma-gen} \sigma(\overline{w} \cdot \omega)(g) = w \cdot \sigma(\omega)(w^{-1} g w) \cdot w^{-1}.\end{equation}
The correctness of this definition follows from the following
\begin{lemma} \label{lem:delta-weyl}
 For $g \in N_{\overline{w} \cdot \omega}$, $w \in \StW(\Phi, A)$ one has $w^{-1} g w \in N_\omega$.
 The expression in the right-hand side of~\eqref{eq:sigma-gen} depends only on the class $\overline{w} \in W(\Phi)$.
 \end{lemma}
\begin{proof}
To show the existence of $\sigma(\overline{w}\cdot \omega)$ it is enough to consider the case $w = w_\alpha(u)$, $g = x_\beta(X^n v) \in \mathcal{X}_{\overline{w} \cdot \omega}$, for some $u \in A^\times$, $v \in A[X]$, which we may assume to be not divisible by $X$.
Clearly, $\overline{w_\alpha(u)} = s_\alpha$ and by our assumptions $n \geq -\min(0, \langle s_\alpha(\omega), \beta \rangle)$.
Notice that by~\cite[Lemme~5.1(b)]{Ma69}
\[ g^w = x_\beta(X^n v)^{w_\alpha(u)} = x_{s_\alpha(\beta)}(\eta_{\alpha, s_\alpha(\beta)} X^{n} \cdot v \cdot u^{\langle s_\alpha(\beta), \alpha \rangle}),\]
where $\eta_{\alpha, s_\alpha(\beta)} = \pm 1$ are the coefficients defined in~\cite[Lemme~5.1]{Ma69}.
From the orthogonality of $s_\alpha$ and the fact that $\Phi$ is simply-laced we also obtain that
$\langle s_\alpha(\omega), \beta \rangle = \langle \omega, s_\alpha(\beta) \rangle$, consequently, we conclude that $g^w \in \mathcal{X}_\omega$.
Thus, the first assertion of the lemma is proved.

Direct computation using the identities from~\cite[Lemma~5.1]{Ma69} also shows that
\begin{multline*}
 {}^w\sigma(w)(g^w) = {}^w\sigma(w)(x_{s_\alpha(\beta)}(\eta_{\alpha, s_\alpha(\beta)} X^{n} \cdot v \cdot u^{\langle s_\alpha(\beta), \alpha \rangle})) = \\
   = {}^w x_{s_\alpha(\beta)}(\eta_{\alpha, s_\alpha(\beta)} \cdot X^{n + \langle \omega, s_\alpha(\beta) \rangle} \cdot v \cdot u^{\langle s_\alpha(\beta), \alpha \rangle}) = \\
     = x_{\beta}(\eta_{\alpha, s_\alpha(\beta)}^2 \cdot X^{n + \langle s_\alpha(\omega), \beta \rangle} \cdot v \cdot u^{\langle s_\alpha(\beta), \alpha \rangle - \langle s_\alpha(\beta), \alpha \rangle }) = x_{\beta}(X^{n + \langle s_\alpha(\omega), \beta \rangle} \cdot v).
\end{multline*}
It remains to notice that the expression in the right-hand side of the above formula does not depend on $u$ and agrees with~\eqref{eq:sigmadef},
 which implies the second assertion. \end{proof}

\subsection{Another presentation of the relative linear Steinberg group} \label{subsec:rel-presentation}
The aim of this subsection is twofold.
First of all, we recall the presentation of the relative linear Steinberg group $\St(\rA_{n-1}, R, I) = \St(n, R, I)$ from~\cite{LS17}.
This presentation is formulated in terms of rows and columns rather than root unipotents and is similar to
 M.~Tulenbaev's presentation of the relative linear Steinberg group from~\cite[Definition~1.5]{Tu83}.
The key advantage of this presentation over Tulenbaev's is that unlike the latter it applies to the Steinberg group $\St(4, R, I)$,
 which will be important in the sequel.

Our second main goal is to define certain elements $X^d(u, v)$, $Y^d(v, u)$ which will help us
 with the construction of morphisms $\sigma(\omega)$ from~\cref{dfn:delta-pair}.
These elements are inspired by Tulenbaev's elements $X_{v, Xw}^{\delta_k}$ defined on p.~145 of~\cite{Tu83} with
 the important difference that our definitions are also adapted to the situation $n=4$.

For a column $u \in R^n$ we denote by $u^t$ its transpose (which is a row of length $n$).
We denote by $\Um(n, R) \subseteq R^n$ the subset consisting of unimodular columns,
i.\,e. columns $u \in R^n$ such that $v^t u = 1$ for some $v \in R^n$.
We denote by $e_1, \ldots e_n$ the standard basis of $R^n$.
We also denote by $e$ the identity matrix of size $n$.
If $u, v \in R^n$ is a pair of orthogonal columns then $t(u, v) = e + uv^t$ is an invertible matrix of size $n.$
For an element $g \in \GL(n, R)$ we denote by $g^*$ the transpose-inverse of $g$, i.\,e. $g^* = {g^{t}}^{-1}.$

\begin{prop}
    \label{prop:rel-presentation}
    Assume that $I$ is a splitting ideal of a commutative ring $R$.
    Then for any $\ell\geq 3$ the group $\St(\rA_\ell,\,R,\,I)$ can be presented by means of two families of generators $F(u,\,v)$, $S(v,\,u)$
    (where $u\in \E(n,\,R)e_1,$ and $v\in I^n$ are such that $u^{t}v=0$) subject to the following relations:
    \begin{align}
        &F(u,\,v)F(u,\,w)=F(u,\,v+w), \label{add4}\\
        &S(u,\,v)S(w,\,v)=S(u+w,\,v), \label{add5}\\
        &F(u,\,v)F(u',\,v')F(u,\,v)^{-1}=F(t(u,\,v)u',\,t(v,\,u)^{-1} v'), \label{conj3} \\
        &F(me_1,\,m^{*}e_{2}a)=S(me_{1}a,\,m^{*}e_{2}),\ \text{for all $a\in I$,}\, m \in \E(n, R). \label{coef-move}
    \end{align}
\end{prop}
\begin{proof}
    This is precisely~\cite[Proposition 3.10]{LS17} combined with~\cite[Proposition~8]{S15}.
\end{proof}

In what follows we assume $n \geq 4$.
We denote by $D(u)$ the subset of $R^n$ consisting of all columns $v$ which are orthogonal to $u$
(i.\,e. $u^{t} v = 0$) and have at least two zero entries.
Recall from 3.2 of~\cite{Ka77} that for every $u, v, w \in R^n$ such that $u^t v = 0$ there
is a decomposition of $(w^t u) \cdot v$ into a sum of elements of $D(u)$, called \textit{canonical decomposition}:
\begin{equation}
    \label{eq:canonical} (w^tu) \cdot v=\sum_{i<j}u_{ij} c_{ij}(v, w),
\end{equation}
where $u_{ij} =e_i u_j-e_j u_i \in D(u)$ and $c_{ij}(v, w) =v_i w_j-v_j w_i \in R$.

\begin{lemma}
    \label{lem:xsmall-properties}
    Let $v, w \in R^n$ be such that $v^t w = 0$ and assume, moreover, that either $v$ or $w$ has at least one zero entry.
    Under these assumptions one can define certain element $x(v, w) \in \St(n, R)$ such that $\pi(x(v, w)) = t(v, w) = e + vw^t$.
    The elements $x(v, w)$ satisfy the following properties:
    \begin{lemlist}
        \item \label{itm:xsmall-scalar} If $v$ or $w$ has at least two zero entries, then $x(v, wa) = x(va, w)$ for $a\in R$.
        \item \label{itm:xsmall-additivity} If $w_1$ and $w_2$ have at least two zero entries of which at least one entry is common
        then $x(v, w_1) \cdot x(v, w_2) = x(v, w_1+w_2)$ and $x(w_1, v) \cdot x(w_2, v) = x(w_1 + w_2, v)$.
        \item \label{itm:xsmall-commute} If $v$, $v'$ are simultaneously orthogonal to $w$ and $w'$, and the elements $w, w'$ both have at least two zero entries then
        $[x(v, w),\ x(v', w')] = 1$.
        \item \label{itm:xsmall-conj} If $g = x_{ij}(a)$ is a generator of the Steinberg group and $v$ or $w$ has at least two zero entries then
        $g \cdot x(v, w) \cdot g^{-1} = x(gv, g^*w)$.
    \end{lemlist}
\end{lemma}
\begin{proof}
    See~\cite[Lemma~1.1]{Tu83}.
\end{proof}

Now assume that $I$ is an ideal of a ring $R$.
We also assume that $R$ itself is a subring of a larger ring $S$.
We now define two families of elements of $\St(n, R)$.
\begin{dfn} \label{dfn:xy-def}
    Let $u \in \Um(n, R)$ and $v \in I^n$ be a vector such that $u^{t}v = 0$.
    Let $v = \sum_r v^r$ be some decomposition of $v$ into a finite sum of elements $v^r \in D(u) \cap I^n$.
    Under our assumptions on $u$ and $v$ such decomposition always exists, see~\eqref{eq:canonical}.

    Let $d = \mathrm{diag}(d_1, \ldots, d_n)$ be an element of the subgroup $T(n, S)$ of diagonal matrices of $\GL(n, S)$ such that
    $d^{-1} \cdot u \in R^n,\ d \cdot I^n \subseteq R^n.$
    Under these assumptions we set
    \begin{equation} \label{eq:X-def}
        X^d(u, v) \coloneqq \prod_i x(d^{-1}u, dv^r),
    \end{equation}

    Not let $d'$ be an element of $T(n, S)$ such that $d' u\in R^n,\ {d'}^{-1} \cdot I^n \subseteq R^n$.
    Under these assumptions we set
    \begin{equation} \label{eq:Y-def}
        Y^{d'}(v, u) \coloneqq \prod_i x({d'}^{-1} v^r, {d'}u).
    \end{equation}
\end{dfn}

\begin{lemma}
    \label{lem:xy-wd}
    The elements $X^d(u, v)$, $Y^{d'}(v, u)$ are well-defined, i.\,e. they do not depend on the choice of decomposition for $v$.
\end{lemma}
\begin{proof}
    Let $v = \sum_r v^r$ be a decomposition as above.
    Since $u$ is unimodular there exists $w$ such that $w^t u = 1$.
    Since each $v^r$ is orthogonal to $u$ we can write the canonical decomposition
    $v^r = (w^tu)v^r = \sum_{i<j} u_{ij} c_{ij}(v^r, w)$, moreover $\sum_{r} c_{ij}(v^r, w) = c_{ij}(v, w)$.
    Now using~\cref{lem:xsmall-properties} we obtain that
    \begin{multline*}
        X^d(u, v) =
        \prod\limits_r x(d^{-1}u, dv^r) = \prod\limits_{r}\prod\limits_{i<j} x(d^{-1} u, du_{ij}c_{ij}(v^r, w)) = \\ =
        \prod\limits_{i<j} x(d^{-1} u, d u_{ij}c_{ij}(v, w)). \qedhere
    \end{multline*}
\end{proof}

\begin{lemma}
    \label{lem:xy-conj} Suppose that $g = x_{hk}(a)$ is a generator of $\St(n, R)$ such that $m = d\pi(g)d^{-1} \in \E(n, R)$, then
    \begin{equation*}
        g \cdot X^d(u, v) \cdot g^{-1} = X^d(mu, m^*v) \text{ and } g \cdot Y^d(v, u) \cdot g^{-1} = Y^d(mv, m^*u).
    \end{equation*}
\end{lemma}
\begin{proof}
 Choose $w\in R^n$ such that $w^t u = 1$ and write $v = \sum_{1\leq i<j\leq n} u_{ij} c_{ij}$, where $u_{ij}$ and $c_{ij} = c_{ij}(v, w)$ are as in~\eqref{eq:canonical}.
 By~\cref{lem:xsmall-properties} we can write $g' = g \cdot X^d(u, v) \cdot g^{-1}$ as follows:
 \begin{equation} \nonumber
   \prod\limits_{1\leq i<j\leq n} x(\pi(g) \cdot d^{-1} \cdot u, \pi(g)^* \cdot d \cdot u_{ij}c_{ij})
 = \prod\limits_{1\leq i<j\leq n} x( d^{-1} \cdot m \cdot u, d \cdot m^* \cdot u_{ij}c_{ij}).
 \end{equation}
 Now for every factor in the right-hand side we do the following:
 if $\{i, j\} = \{h, k\}$ or $\{i, j\} \cap \{h, k\} = \emptyset$ we leave the factor unchanged,
 otherwise, if, $|\{i, j\} \cap \{h, k\}| = 1$, say, $j = h$, $i\neq k$, we further decompose it as follows:
  \begin{equation} \nonumber
     x(d^{-1} \cdot u', d \cdot m^* \cdot u_{ij} c_{ij}) =
     x(d^{-1} \cdot u', d \cdot u'_{ij} c_{ij}) \cdot
     x(d^{-1} \cdot u', d \cdot u'_{ki} bc_{ij}),
  \end{equation}
 where $u' = m \cdot u = t_{jk}(b) \cdot u$ and $b = d_j \cdot a \cdot d_k^{-1} \in R$.
  Notice that
 \begin{multline*}
    m^* \cdot u_{ij} = t_{kj}(-b) \cdot u_{ij} = t_{kj}(-b) \cdot (e_i u_j-e_j u_i) = e_iu_j - e_ju_i + e_k b u_i =
     \\ = \left(e_i (u_kb + u_j) - e_j u_i\right) + (e_k u_i-e_i u_k)b = (e_i u'_j-e_j u'_i) + (e_k u'_i-e_i u'_k)b = u'_{ij}+u'_{ki}b.
 \end{multline*}

  Thus, $g' = \prod_{s} x(d^{-1} \cdot u', d \cdot v'_s) $, where $v'_s \in D(u')$ and $\sum v'_s = m^*v$.
  It is clear now that $g' = X^d(m u, m^* v)$ by~\cref{dfn:xy-def}.
  The argument for the generator $Y^d(v, u)$ is similar.
\end{proof}
